{"id":"../../../node_modules/one-micro-referrals/src/referrals.tsx","dependencies":[{"name":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/tsconfig.json","includedInParent":true,"mtime":1569955866850},{"name":"/Users/chriswf/Documents/Projects/unch-gadget/packages/OBD-Portal/package.json","includedInParent":true,"mtime":1569955431018},{"name":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/package.json","includedInParent":true,"mtime":1569955866849},{"name":"react","loc":{"line":14,"column":22},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/react/index.js"},{"name":"antd/lib/icon","loc":{"line":15,"column":37},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/icon/index.js"},{"name":"antd/lib/table","loc":{"line":16,"column":38},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/table/index.js"},{"name":"antd/lib/dropdown","loc":{"line":17,"column":41},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/dropdown/index.js"},{"name":"antd/lib/button","loc":{"line":18,"column":39},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/button/index.js"},{"name":"antd/lib/menu","loc":{"line":19,"column":37},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/menu/index.js"},{"name":"antd/lib/modal","loc":{"line":20,"column":38},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/modal/index.js"},{"name":"antd/lib/typography","loc":{"line":21,"column":43},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/typography/index.js"},{"name":"antd/lib/descriptions","loc":{"line":22,"column":45},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/descriptions/index.js"},{"name":"react-redux","loc":{"line":23,"column":28},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/react-redux/es/index.js"},{"name":"one-ui-provider","loc":{"line":24,"column":32},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-ui-provider/index.ts"},{"name":"util","loc":{"line":25,"column":21},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/node-libs-browser/node_modules/util/util.js"},{"name":"antd/lib/message","loc":{"line":26,"column":40},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/antd/lib/message/index.js"},{"name":"one-core","loc":{"line":27,"column":25},"parent":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-micro-referrals/src/referrals.tsx","resolved":"/Users/chriswf/Documents/Projects/unch-gadget/node_modules/one-core/index.ts"}],"generated":{"js":"\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar react_1 = require(\"react\");\nvar icon_1 = __importDefault(require(\"antd/lib/icon\"));\nvar table_1 = __importDefault(require(\"antd/lib/table\"));\nvar dropdown_1 = __importDefault(require(\"antd/lib/dropdown\"));\nvar button_1 = __importDefault(require(\"antd/lib/button\"));\nvar menu_1 = __importDefault(require(\"antd/lib/menu\"));\nvar modal_1 = __importDefault(require(\"antd/lib/modal\"));\nvar typography_1 = __importDefault(require(\"antd/lib/typography\"));\nvar descriptions_1 = __importDefault(require(\"antd/lib/descriptions\"));\nvar react_redux_1 = require(\"react-redux\");\nvar one_ui_provider_1 = require(\"one-ui-provider\");\nvar util_1 = require(\"util\");\nvar message_1 = __importDefault(require(\"antd/lib/message\"));\nvar one_core_1 = require(\"one-core\");\nvar Text = typography_1.default.Text;\nexports.ReferralTable = function () {\n    var _a = one_ui_provider_1.useCtx(), settings = _a.settings, log = _a.log, agentId = _a.agentId;\n    var _b = settings.epic_config, epic_config = _b === void 0 ? {} : _b;\n    var location = epic_config.location, activityId = epic_config.activityId;\n    var dispatch = react_redux_1.useDispatch();\n    var _c = react_redux_1.useSelector(function (state) { return (state.patient || {}); }).selected, patientvalue = _c === void 0 ? {} : _c;\n    var _d = react_1.useState(false), moredetmodel = _d[0], setMoredetmodel = _d[1];\n    var _e = react_1.useState({}), moredetails = _e[0], setMoredetails = _e[1];\n    var sdata = react_redux_1.useSelector(function (state) { return state.referal; });\n    var _f = react_redux_1.useSelector(function (state) { return (state.screenpop || {}); }), referralscreenpopactive = _f.referralscreenpopactive, referralscreenpopmsg = _f.referralscreenpopmsg;\n    if (referralscreenpopactive) {\n        if (referralscreenpopmsg && referralscreenpopmsg === 'Epic Screen pop to the Referrals is successfully initiated') {\n            message_1.default.success(referralscreenpopmsg);\n        }\n        else {\n            message_1.default.error(referralscreenpopmsg);\n        }\n        dispatch({\n            type: \"one-screenpop-reset\",\n            payload: {\n                referralscreenpopactive: false\n            }\n        });\n    }\n    var referdata = [];\n    if (sdata && util_1.isArray(sdata)) {\n        sdata.map(function (data) {\n            var info = {\n                refid: data.ExternalReferralNumber,\n                refby: data.ReferredByProviderName,\n                refto: data.ReferredToProviderName,\n                reftype: data.Type,\n                refstatus: data.Status,\n                refstartdate: data.AuthorizationStartDate,\n                refenddate: data.AuthorizationEndDate\n            };\n            referdata.push(info);\n        });\n    }\n    var handleReferralScreenPopClick = function () {\n        var pidepi = one_core_1.array(patientvalue.PatientID).find(function (id) { return (id['Type'] === \"EPI\"); });\n        var patientid = pidepi && pidepi.ID;\n        if (patientid) {\n            dispatch({\n                type: 'one-referral-screenpop-get',\n                payload: {\n                    agentId: agentId,\n                    location: location,\n                    activityId: 'ES_APPT_DESK_WEB',\n                    patientid: patientid\n                }\n            });\n        }\n        else {\n            message_1.default.error('Epic Screenpop failed. Please make sure you are connected to the Snap Adapter');\n        }\n    };\n    var handleMenuClick = function (e) {\n        var key = e.key;\n        var res = key.split(\",\");\n        if (res[1] === '1') {\n            handleReferralScreenPopClick();\n        }\n    };\n    var handleOk = function (e) {\n        setMoredetmodel(false);\n    };\n    var handleCancel = function (e) {\n        setMoredetmodel(false);\n    };\n    var menu = function (e) { return (React.createElement(menu_1.default, { onClick: handleMenuClick },\n        React.createElement(menu_1.default.Item, { key: e.key + \",1\" }, \"Go To Referrals\"))); };\n    var columns = [\n        {\n            title: \"Ref ID\",\n            dataIndex: \"refid\",\n            key: \"refid\"\n        },\n        {\n            title: \"Referred By (Provider)\",\n            key: \"refby\",\n            dataIndex: \"refby\"\n        },\n        {\n            title: \"Referred To (Provider)\",\n            key: \"refto\",\n            dataIndex: \"refto\"\n        },\n        {\n            title: \"Referral Type\",\n            key: \"reftype\",\n            dataIndex: \"reftype\"\n        },\n        {\n            title: \"Referred Status\",\n            key: \"refstatus\",\n            dataIndex: \"refstatus\"\n        },\n        {\n            title: \"Referral Auth Start Date\",\n            key: \"refstartdate\",\n            dataIndex: \"refstartdate\"\n        },\n        {\n            title: \"Referral Auth End Date\",\n            key: \"refenddate\",\n            dataIndex: \"refenddate\"\n        },\n        {\n            title: \"Action\",\n            key: \"action\",\n            render: function (text, record) { return (React.createElement(dropdown_1.default, { overlay: menu(record) },\n                React.createElement(button_1.default, { type: \"primary\" },\n                    \"Actions \",\n                    React.createElement(icon_1.default, { type: \"down\" })))); }\n        }\n    ];\n    return (React.createElement(\"div\", null,\n        React.createElement(table_1.default, { columns: columns, dataSource: referdata }),\n        React.createElement(modal_1.default, { title: \"Customer Referral Details\", visible: moredetmodel, onOk: handleOk, onCancel: handleCancel, width: 720, footer: [\n                React.createElement(button_1.default, { key: \"submit\", type: \"primary\", onClick: handleOk }, \"CANCEL\"),\n            ] },\n            React.createElement(descriptions_1.default, { layout: \"horizontal\" },\n                React.createElement(descriptions_1.default.Item, { label: \"Referral Id\" }, moredetails != undefined ? moredetails.id : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Customer ID\" }, moredetails != undefined ? moredetails.customerid : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Customer Name\" }, moredetails != undefined ? moredetails.customername : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred By (Provider)\" }, moredetails != undefined ? moredetails.providerby : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred To (Provider)\" }, moredetails != undefined ? moredetails.providerto : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referral Type\" }, moredetails != undefined ? moredetails.referraltype : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred Status\" }, moredetails != undefined ? moredetails.referralstatus : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Business Segment\" }, moredetails != undefined ? moredetails.businesssegment : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Service Area\" }, moredetails != undefined ? moredetails.servicearea : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referral Auth Start Date\" }, moredetails != undefined ? moredetails.referralstartdate : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referral Auth End Date\" }, moredetails != undefined ? moredetails.referralenddate : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred by provider name\" }, moredetails != undefined ? moredetails.referredbyprovidername : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred to provider name\" }, moredetails != undefined ? moredetails.referredtoprovidername : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred to facility address\" }, moredetails != undefined ? moredetails.referredtofacilityaddress : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Referred to provider address\" }, moredetails != undefined ? moredetails.referredtoprovideraddress : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Diagnoses\" }, moredetails != undefined ? moredetails.diagnoses : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Procedures\" }, moredetails != undefined ? moredetails.procedures : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Customer Address\" }, moredetails != undefined ? moredetails.customeraddress : \"\"),\n                React.createElement(descriptions_1.default.Item, { label: \"Interpreter required\" }, \"NO\")))));\n};\n"},"sourceMaps":{"js":{"version":3,"file":"referrals.js","sourceRoot":"","sources":["../../../node_modules/one-micro-referrals/src/referrals.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport Icon from \"antd/lib/icon\";\nimport Table from \"antd/lib/table\";\nimport Dropdown from \"antd/lib/dropdown\";\nimport Button from \"antd/lib/button\";\nimport Menu from \"antd/lib/menu\";\nimport Modal from \"antd/lib/modal\";\nimport Row from \"antd/lib/row\";\nimport Typography from \"antd/lib/typography\";\nimport Descriptions from 'antd/lib/descriptions';\nimport Col from \"antd/lib/col\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useCtx } from 'one-ui-provider';\nimport { isArray } from \"util\";\nimport message from 'antd/lib/message';\nimport { array } from 'one-core';\n\nconst { Text } = Typography;\n\nexport const ReferralTable = () => {\n\n  const { settings,log, agentId } = useCtx();\n  const { epic_config = {} } = settings;\n  const { location, activityId } = epic_config;\n  const  dispatch = useDispatch();\n  const { selected: patientvalue = {} } = useSelector((state: any) => (\n    state.patient || {}\n  ));\n  const [moredetmodel, setMoredetmodel] = useState(false);\n  const [moredetails, setMoredetails] = useState({});\n  let sdata = useSelector((state: any) => state.referal);\n  \n  const { referralscreenpopactive,\n    referralscreenpopmsg } = useSelector((state: any) => (\n    state.screenpop || {}\n   ));\n\n   if(referralscreenpopactive){\n    if(referralscreenpopmsg && referralscreenpopmsg === 'Epic Screen pop to the Referrals is successfully initiated'){\n        message.success(referralscreenpopmsg);\n    }else{\n        message.error(referralscreenpopmsg);\n    }\n    \n    dispatch({\n        type:\"one-screenpop-reset\",\n        payload : {\n           referralscreenpopactive: false\n        }\n    })\n   } \n\n  let referdata: any = [];\n\n  if(sdata && isArray(sdata))\n  {\n    sdata.map((data:any) => {\n      const info = {\n        refid: data.ExternalReferralNumber,\n        refby: data.ReferredByProviderName,\n        refto: data.ReferredToProviderName,\n        reftype: data.Type,\n        refstatus: data.Status,\n        refstartdate: data.AuthorizationStartDate,\n        refenddate: data.AuthorizationEndDate\n      }\n      referdata.push(info);\n    })\n  }\n\n  const handleReferralScreenPopClick = () => {\n    let pidepi = array(patientvalue.PatientID).find((id: any) => (\n      id['Type'] === \"EPI\"\n    ));\n    let patientid = pidepi && pidepi.ID;\n    if(patientid){\n       dispatch({\n            type: 'one-referral-screenpop-get',\n            payload:{\n                agentId: agentId,\n                location: location,\n                activityId: 'ES_APPT_DESK_WEB',\n                patientid: patientid\n            }\n       });\n    }else{\n      message.error('Epic Screenpop failed. Please make sure you are connected to the Snap Adapter');\n    }\n  }\n\n  const handleMenuClick = (e: any) => {\n    let key = e.key;\n    var res = key.split(\",\");\n    if(res[1] === '1'){\n      handleReferralScreenPopClick();\n    }\n    \n  }\n\n  const handleOk = (e: any) => {\n    setMoredetmodel(false);\n  };\n\n  const handleCancel = (e: any) => {\n    setMoredetmodel(false);\n  };\n\n  const menu = (e: any) => (\n    <Menu onClick={handleMenuClick}>\n      <Menu.Item key={e.key + \",1\"}>Go To Referrals</Menu.Item>\n    </Menu>\n  );\n\n  const columns = [\n    {\n      title: \"Ref ID\",\n      dataIndex: \"refid\",\n      key: \"refid\"\n    },\n    {\n      title: \"Referred By (Provider)\",\n      key: \"refby\",\n      dataIndex: \"refby\"\n    },\n    {\n      title: \"Referred To (Provider)\",\n      key: \"refto\",\n      dataIndex: \"refto\"\n    },\n    {\n      title: \"Referral Type\",\n      key: \"reftype\",\n      dataIndex: \"reftype\"\n    },\n    {\n      title: \"Referred Status\",\n      key: \"refstatus\",\n      dataIndex: \"refstatus\"\n    },\n    {\n      title: \"Referral Auth Start Date\",\n      key: \"refstartdate\",\n      dataIndex: \"refstartdate\"\n    },\n    {\n      title: \"Referral Auth End Date\",\n      key: \"refenddate\",\n      dataIndex: \"refenddate\"\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      render: (text: any, record: any) => (\n        <Dropdown overlay={menu(record)}>\n          <Button type=\"primary\">\n            Actions <Icon type=\"down\" />\n          </Button>\n        </Dropdown>\n      )\n    }\n  ];\n\n\n\n\n\n\n  return (\n    <div>\n      {/* <Icon type=\"unordered-list\" /> All Referrals */}\n      <Table columns={columns} dataSource={referdata} />\n      <Modal\n        title=\"Customer Referral Details\"\n        visible={moredetmodel}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        width={720}\n        footer={[\n          <Button key=\"submit\" type=\"primary\" onClick={handleOk}>\n            CANCEL\n            </Button>,\n        ]}\n      >\n\n        <Descriptions layout=\"horizontal\">\n          <Descriptions.Item label=\"Referral Id\">{moredetails != undefined ? moredetails.id : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Customer ID\">{moredetails != undefined ? moredetails.customerid : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Customer Name\">{moredetails != undefined ? moredetails.customername : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred By (Provider)\">{moredetails != undefined ? moredetails.providerby : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred To (Provider)\">{moredetails != undefined ? moredetails.providerto : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referral Type\">{moredetails != undefined ? moredetails.referraltype : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred Status\">{moredetails != undefined ? moredetails.referralstatus : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Business Segment\">{moredetails != undefined ? moredetails.businesssegment : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Service Area\">{moredetails != undefined ? moredetails.servicearea : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referral Auth Start Date\">{moredetails != undefined ? moredetails.referralstartdate : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referral Auth End Date\">{moredetails != undefined ? moredetails.referralenddate : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred by provider name\">{moredetails != undefined ? moredetails.referredbyprovidername : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred to provider name\">{moredetails != undefined ? moredetails.referredtoprovidername : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred to facility address\">{moredetails != undefined ? moredetails.referredtofacilityaddress : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Referred to provider address\">{moredetails != undefined ? moredetails.referredtoprovideraddress : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Diagnoses\">{moredetails != undefined ? moredetails.diagnoses : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Procedures\">{moredetails != undefined ? moredetails.procedures : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Customer Address\">{moredetails != undefined ? moredetails.customeraddress : \"\"}</Descriptions.Item>\n          <Descriptions.Item label=\"Interpreter required\">NO</Descriptions.Item>\n        </Descriptions>\n\n      </Modal>\n    </div>\n  );\n};"]}},"error":null,"hash":"2f4338173b64341e8c8232f9d0615c62","cacheData":{"env":{}}}
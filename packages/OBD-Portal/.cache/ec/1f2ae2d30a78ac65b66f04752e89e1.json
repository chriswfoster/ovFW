{"id":"../../../node_modules/unch-app/src/store/appointment/src/appointments.ts","dependencies":[{"name":"/Users/user/Documents/Projects/ssob/ovFW/node_modules/unch-app/tsconfig.json","includedInParent":true,"mtime":1570193309185},{"name":"/Users/user/Documents/Projects/ssob/ovFW/packages/OBD-Portal/package.json","includedInParent":true,"mtime":1570193308535},{"name":"/Users/user/Documents/Projects/ssob/ovFW/node_modules/unch-app/package.json","includedInParent":true,"mtime":1570193309170}],"generated":{"js":"\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types;\n(function (Types) {\n    Types[\"APPTSELECT\"] = \"appointments-select\";\n    Types[\"APPTCLEAR\"] = \"appointments-clear\";\n    Types[\"SETCANCELAPPT\"] = \"set-cancel-appt\";\n    Types[\"RESETAPPTNOTIFICATION\"] = \"reset-appointment-notification\";\n})(Types = exports.Types || (exports.Types = {}));\n;\nvar initial = {};\nexports.appointmentsreducer = function (context) {\n    var log = context.log;\n    return function (state, action) {\n        if (state === void 0) { state = initial; }\n        log.debug('one-state-patients-appointments', 'reducer', {\n            action: action,\n        });\n        var updated = state;\n        var type = action.type, payload = action.payload;\n        //let appointments=payload;\n        var cancelmsg = '';\n        var apptcode = '0';\n        if (type === Types.SETCANCELAPPT) {\n            if (Array.isArray(payload) && payload.length > 0) {\n                var val = payload[0];\n                if (val && val.Success && val.Success === '1') {\n                    cancelmsg = 'Appointment Successfully Cancelled';\n                    apptcode = val.Success;\n                }\n                else if (val && val.Success && val.Success === '0') {\n                    cancelmsg = val.Error;\n                    apptcode = val.Success;\n                }\n            }\n            else {\n                cancelmsg = 'Unable to cancel the appointment, please try to cancel the appointment in Epic Hyperspace';\n            }\n        }\n        switch (type) {\n            case Types.APPTSELECT:\n                updated = __assign({}, updated, { appointments: payload.slice() });\n                break;\n            case Types.APPTCLEAR:\n                updated = {};\n                break;\n            case Types.SETCANCELAPPT:\n                updated = __assign({}, updated, { cancelmsg: cancelmsg, apptcode: apptcode });\n                break;\n            case Types.RESETAPPTNOTIFICATION:\n                updated = __assign({}, updated, payload);\n                break;\n        }\n        return updated;\n    };\n};\n"},"sourceMaps":{"js":{"version":3,"file":"appointments.js","sourceRoot":"","sources":["../../../node_modules/unch-app/src/store/appointment/src/appointments.ts"],"names":[],"mappings":";;;;;;;;;;;;;AACA,IAAkB,KAKjB;AALD,WAAkB,KAAK;IACnB,2CAAkC,CAAA;IAClC,yCAAgC,CAAA;IAChC,0CAA+B,CAAA;IAC/B,iEAAsD,CAAA;AAC1D,CAAC,EALiB,KAAK,GAAL,aAAK,KAAL,aAAK,QAKtB;AAAA,CAAC;AAMF,IAAM,OAAO,GAAQ,EAEpB,CAAC;AAEW,QAAA,mBAAmB,GAAG,UAAC,OAAY;IACpC,IAAA,iBAAG,CAAa;IACxB,OAAO,UAAC,KAA8B,EAAC,MAAqB;QAApD,sBAAA,EAAA,eAA8B;QAClC,GAAG,CAAC,KAAK,CACL,iCAAiC,EACjC,SAAS,EAAE;YACP,MAAM,QAAA;SACT,CACJ,CAAC;QAIF,IAAI,OAAO,GAAG,KAAK,CAAC;QACZ,IAAA,kBAAI,EAAE,wBAAO,CAAY;QACjC,2BAA2B;QAE3B,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,QAAQ,GAAG,GAAG,CAAC;QACnB,IAAG,IAAI,KAAK,KAAK,CAAC,aAAa,EAAC;YAC5B,IAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,GAAC,CAAC,EAAC;gBAC1C,IAAI,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBACrB,IAAG,GAAG,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAC;oBACzC,SAAS,GAAG,oCAAoC,CAAC;oBACjD,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC;iBAC1B;qBAAK,IAAG,GAAG,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAC;oBAC/C,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC;oBACtB,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC;iBAC1B;aACJ;iBAAI;gBACD,SAAS,GAAG,2FAA2F,CAAC;aAC3G;SACJ;QAID,QAAQ,IAAI,EAAE;YACV,KAAK,KAAK,CAAC,UAAU;gBACjB,OAAO,gBACA,OAAO,IACV,YAAY,EACL,OAAO,WAEjB,CAAC;gBACF,MAAM;YAEV,KAAK,KAAK,CAAC,SAAS;gBAChB,OAAO,GAAG,EAET,CAAC;gBACF,MAAM;YACV,KAAK,KAAK,CAAC,aAAa;gBACpB,OAAO,gBACA,OAAO,IACV,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACrB,CAAC;gBACJ,MAAM;YACN,KAAK,KAAK,CAAC,qBAAqB;gBAC9B,OAAO,gBACA,OAAO,EACP,OAAO,CACb,CAAC;gBACJ,MAAM;SAIX;QACD,OAAO,OAAO,CAAC;IACnB,CAAC,CAAA;AACL,CAAC,CAAA","sourcesContent":["\nexport const enum Types {\n    APPTSELECT = 'appointments-select',\n    APPTCLEAR = 'appointments-clear',\n    SETCANCELAPPT='set-cancel-appt',\n    RESETAPPTNOTIFICATION='reset-appointment-notification'\n};\n\nexport interface Action<T, P = any> {\n    type: T,\n    payload: P,\n}\nconst initial: any = {\n    \n};\n\nexport const appointmentsreducer = (context: any) => {\n    const { log } = context;\n    return (state:typeof initial = initial,action: Action<Types>) => {\n        log.debug(\n            'one-state-patients-appointments',\n            'reducer', {\n                action,\n            }\n        );\n\n\n\n        let updated = state;\n        const { type, payload } = action;\n        //let appointments=payload;\n\n        let cancelmsg = '';\n        let apptcode = '0';\n        if(type === Types.SETCANCELAPPT){\n            if(Array.isArray(payload) && payload.length>0){\n                let val = payload[0];\n                if(val && val.Success && val.Success === '1'){\n                    cancelmsg = 'Appointment Successfully Cancelled';\n                    apptcode = val.Success;\n                }else if(val && val.Success && val.Success === '0'){\n                    cancelmsg = val.Error;\n                    apptcode = val.Success;\n                }\n            }else{\n                cancelmsg = 'Unable to cancel the appointment, please try to cancel the appointment in Epic Hyperspace';\n            }\n        }\n\n\n\n        switch (type) {\n            case Types.APPTSELECT:\n                updated = {\n                    ...updated,\n                    appointments: [\n                        ...payload\n                    ]\n                };\n                break;\n\n            case Types.APPTCLEAR:\n                updated = {\n\n                };\n                break;\n            case Types.SETCANCELAPPT:\n                updated = {\n                    ...updated,\n                    cancelmsg: cancelmsg,\n                    apptcode: apptcode\n                };\n              break;\n              case Types.RESETAPPTNOTIFICATION:\n                updated = {\n                    ...updated,\n                    ...payload\n                };\n              break;  \n             \n              \n\n        }\n        return updated;\n    }\n}\n"]}},"error":null,"hash":"7e88ce8c13b45443ac5d1621fdb68b18","cacheData":{"env":{}}}